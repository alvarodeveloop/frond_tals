{"version":3,"sources":["webpack:///./src/app/admin/tickets/manage/manage.component.css","webpack:///./src/app/admin/tickets/manage/manage.component.html","webpack:///./src/app/admin/tickets/manage/manage.component.ts","webpack:///./src/app/admin/tickets/tickets.component.css","webpack:///./src/app/admin/tickets/tickets.component.html","webpack:///./src/app/admin/tickets/tickets.component.ts","webpack:///./src/app/admin/tickets/tickets.module.ts","webpack:///./src/app/admin/tickets/tickets.routes.ts"],"names":[],"mappings":"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","file":"admin-tickets-tickets-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"<div class=\\\"pd-20 bg-white border-radius-4 box-shadow mb-30 animated slideInUp\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-4 col-sm-4\\\">\\r\\n      <h3 class=\\\"text-center\\\">Detalles del Ticket</h3>\\r\\n      <br>\\r\\n      <ul class=\\\"list-group-flush\\\">\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Número:</b>&nbsp;&nbsp;<span class=\\\"alert alert-warning\\\">{{ validate ? ticketManage.numero_ticket : '' }}</span></li>\\r\\n        <br/>\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Motivo:</b> {{ validate ? ticketManage.motivo.name : '' }}</li>\\r\\n        <br/>\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Descripción:</b> {{ validate ? ticketManage.description : '' }}</li>\\r\\n        <br/>\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Usuario:</b> {{ validate ? ticketManage.userTicket.nombre : '' }}</li>\\r\\n        <br>\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Fecha de Inicio:</b> {{ validate ? (ticketManage.createdAt | date: 'dd-MM-yyyy HH:MM:SS' ): '' }}</li>\\r\\n        <br>\\r\\n        <li class=\\\"list-group-item-text\\\"><b>Estatus:</b>&nbsp;&nbsp;\\r\\n          <select name=\\\"\\\" id=\\\"\\\" class=\\\"form-control\\\" (change)=\\\"changeStatus($event)\\\">\\r\\n            <option [value]=\\\"item.id\\\" [selected]=\\\"item.id == ticketManage.statu_id\\\" *ngFor=\\\"let item of arrayStatus\\\">{{ item.name }}</option>\\r\\n          </select>\\r\\n      </ul>\\r\\n      <br/>\\r\\n      <button class=\\\"btn btn-block btn-outline-primary\\\" type=\\\"button\\\" data-toggle=\\\"modal\\\" data-target=\\\"#modal_cuenta\\\">\\r\\n        Agregar Mensaje&nbsp;<i class=\\\"fa fa-plus\\\"></i>\\r\\n      </button>\\r\\n      <br/>\\r\\n      <p class=\\\"text-center\\\"><a routerLink=\\\"/admin/tickets\\\">Regresar&nbsp;<i class=\\\"fa fa-arrow-left\\\"></i></a></p>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8 col-sm-8\\\">\\r\\n      <h3 class=\\\"text-center\\\">Mensajes</h3>\\r\\n      <br/>\\r\\n      <div class=\\\"row\\\" *ngIf=\\\"visible\\\">\\r\\n        <div class=\\\"col-md-4 col-sm-4\\\">\\r\\n          <div class=\\\"nav flex-column nav-pills\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\r\\n            \\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-8 col-sm-8 text-center\\\">\\r\\n          <div class=\\\"tab-content\\\" id=\\\"v-pills-tabContent\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\" *ngIf=\\\"!visible\\\">\\r\\n        <div class=\\\"col-md-12 col-sm-12 text-center\\\" id=\\\"div_not_visible\\\">\\r\\n          <p class=\\\"text-center\\\">No hay mensajes en este ticket</p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div id=\\\"modal_cuenta\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <!-- Modal content-->\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header login-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Escriba su mensaje&nbsp;<i class=\\\"fa fa-pencil\\\"></i></h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">×</button>\\r\\n          </div>\\r\\n          <form [formGroup]=\\\"formAnsswer\\\" action=\\\"\\\" (ngSubmit)=\\\"onSubmit(formAnsswer)\\\" id=\\\"form_register\\\">\\r\\n            <div class=\\\"modal-body\\\">\\r\\n              <div class=\\\"row form-group\\\">\\r\\n                <div class=\\\"col-md-12 col-sm-12\\\">\\r\\n                  <textarea name=\\\"description\\\" id=\\\"description\\\" rows=\\\"2\\\" formControlName=\\\"description\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.description.errors }\\\" class=\\\"form-control\\\"></textarea>\\r\\n                  <div *ngIf=\\\"f.description.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                    <div *ngIf=\\\"f.description.errors.required\\\">Debe introducir una respuesta</div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row form-group\\\">\\r\\n                <div class=\\\"col-md-5 col-sm-5\\\">\\r\\n                  <input type=\\\"file\\\" name=\\\"file_answer\\\" id=\\\"file_answer\\\" accept=\\\"\\\" multiple=\\\"\\\">\\r\\n                </div>\\r\\n              </div>\\r\\n            </div><!-- fin modal-body -->\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Grabar</button>\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\r\\n            </div>\\r\\n          </form>\\r\\n      </div><!-- fin modal-content -->\\r\\n  </div><!-- fin modal-dialog -->\\r\\n</div> <!-- fin modal -->\"","import { Component, OnInit, ElementRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { forkJoin } from 'rxjs';\r\nimport { Router, ActivatedRoute } from '@angular/router'\r\n\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { TicketsAdminService } from '../../../service/tickets-admin.service'\r\nimport { MasterService } from '../../../service/master.service'\r\n\r\nimport { Tickets } from '../../../class/shared/tickets'\r\n\r\nimport * as moment from 'moment/moment'\r\n\r\n\r\ndeclare var $ : any\r\n\r\n@Component({\r\n  selector: 'app-manage',\r\n  templateUrl: './manage.component.html',\r\n  styleUrls: ['./manage.component.css']\r\n})\r\nexport class ManageComponent implements OnInit {\r\n\r\n  ticketManage: any\r\n  validate : boolean = false\r\n  visible  : boolean = true \r\n  formAnsswer: FormGroup\r\n  submitted: boolean = false\r\n  idTicket : string\r\n  arrayStatus: any\r\n\r\n  constructor(private tsvc: TicketsAdminService, \r\n              private toastr: ToastrService, \r\n              private router: Router, \r\n              private _router: ActivatedRoute,\r\n              private _fb: FormBuilder,\r\n              private _ele: ElementRef,\r\n              private msvc: MasterService){ }\r\n\r\n  ngOnInit() {\r\n    const id = this._router.snapshot.paramMap.get('id')\r\n    this.idTicket = id\r\n\r\n    if(id){\r\n      this.initForm()\r\n      this.init(id)\r\n    }else{\r\n      this.toastr.error('Petición incorrecta','Error!')\r\n      this.router.navigate(['/admin/tickets'])\r\n    }\r\n  }\r\n\r\n  init(id: string){\r\n    const manage = this.tsvc.getManageTicket(id)\r\n    const statusTicket  = this.msvc.getStatus(2)\r\n\r\n    forkJoin([\r\n        manage,\r\n        statusTicket\r\n      ])\r\n      .subscribe(res => {\r\n        \r\n        this.ticketManage = res[0][0]\r\n       \r\n        if(this.ticketManage){\r\n          this.validate = true\r\n          this.renderMessages()\r\n        }\r\n\r\n        this.arrayStatus = res[1]\r\n\r\n      },err => {\r\n        this.toastr.error(err.error.message)\r\n      })\r\n\r\n    this.tsvc.getManageTicket(id).subscribe(res => {\r\n      \r\n    },err => {\r\n      this.toastr.error(err.error.message,'Error!')\r\n    })\r\n  }\r\n\r\n  renderMessages(){\r\n    let html = \"\";\r\n    let navs = \"\";\r\n    let con  = 0;\r\n    let session = JSON.parse(localStorage.getItem('session'))\r\n\r\n    this.ticketManage.ticketResticket.forEach((i,e) =>{\r\n\r\n      let name = \"\"\r\n      if(i.user_id == 1 && session.profile == 1){\r\n        name = \"Usted <br/> \"+moment(i.createdAt).format('DD-MM-YYYY HH:MM:SS')\r\n      }else if(i.user_id == 1 && session.profile != 1){\r\n        name = \"Administrador <br/> \"+moment(i.createdAt).format('DD-MM-YYYY HH:MM:SS')\r\n      }else if(i.user_id != 1 && session.profile != 1){\r\n        name = \"Usted <br/> \"+moment(i.createdAt).format('DD-MM-YYYY HH:MM:SS')\r\n      }else if(i.user_id != 1 && session.profile == 1){\r\n        name = this.ticketManage.userTicket.nombre +\" <br/> \"+moment(i.createdAt).format('DD-MM-YYYY HH:MM:SS')\r\n      }\r\n      let active = con === 0 ? \"active\" : \"\"\r\n      let show_active = con === 0 ? \"show active\" : \"\"\r\n\r\n      navs += `<a class=\"nav-link ${active}\" id=\"${con}\" data-toggle=\"pill\" href=\"#div${con}\" role=\"tab\" aria-controls=\"v-pills-${con}\" aria-selected=\"true\">${name}</a>`\r\n      html+= `<div class=\"tab-pane fade ${show_active}\" id=\"div${con}\" role=\"tabpanel\" aria-labelledby=\"\">${i.description}</div>`\r\n      con++;\r\n    })\r\n\r\n    if(this.ticketManage.ticketResticket.length > 0){\r\n      this.visible = true\r\n      setTimeout(function(){\r\n        $('#v-pills-tab').html(navs)\r\n        $('#v-pills-tabContent').html(html)\r\n      },500)\r\n    }else{\r\n      this.visible = false\r\n    }\r\n  }\r\n\r\n  initForm(){\r\n    this.formAnsswer = this._fb.group({\r\n      description: [null, Validators.required],\r\n      idTicket : [this.idTicket]\r\n    })\r\n  }\r\n\r\n  get f(){return this.formAnsswer.controls}\r\n\r\n  changeStatus(e){\r\n    \r\n    const update = { statu_id : e.target.value }\r\n    this.tsvc.updateTicket(update,this.idTicket).subscribe(res => {\r\n      this.toastr.success('Status cambiado','Éxito!')\r\n    },err => {\r\n      this.toastr.error(err.error.message,'Error!')\r\n    })\r\n  }\r\n\r\n  onSubmit(data){\r\n    \r\n    var datos = JSON.parse(JSON.stringify(data.value))\r\n    var formData;\r\n    var file = this._ele.nativeElement.querySelector('#file_answer').files[0]\r\n    this.submitted = true\r\n    if(this.formAnsswer.invalid){\r\n      return\r\n    } \r\n\r\n    if(file !== undefined){\r\n      let formData1 = new FormData(this._ele.nativeElement.querySelector('#form_register'))\r\n\r\n      formData1.append('description',datos.description)\r\n      formData1.append('idTicket',this.idTicket)\r\n      formData1.append('file_answer',file,'file_answer')\r\n\r\n      formData = formData1\r\n    }else{\r\n      formData = datos\r\n    }\r\n      \r\n\r\n    this.tsvc.saveResponseTicket(formData).subscribe(res => {\r\n      this.toastr.success('Respuesta almacenada','Éxito')\r\n      this.init(this.idTicket)\r\n      this.initForm()\r\n      this.submitted = false\r\n      $('#modal_cuenta').modal('hide')\r\n    }, err => {\r\n      $('#modal_cuenta').modal('hide')\r\n      this.toastr.error(err.error.message,'Error!')\r\n    })\r\n\r\n  }\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"pd-20 bg-white border-radius-4 box-shadow mb-30 animated slideInUp\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-5 col-sm-5 text-center offset-md-3\\\">\\r\\n      <h3>Tickets Registrados</h3> \\r\\n    </div>\\r\\n    <div class=\\\"col-md-4 col-sm-4 pull-right\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" style=\\\"border-radius: 100%\\\" title=\\\"Vaciar Tabla\\\" (click)=\\\"truncateTickets()\\\" data-toggle=\\\"tooltip\\\"><i class=\\\"fa fa-remove\\\"></i></button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"clearfix\\\"></div>\\r\\n  <br>\\r\\n  <div class=\\\"row\\\">\\r\\n    <table class=\\\"data-table stripe hover nowrap table\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th class=\\\"text-center text-primary\\\">Nº Ticket</th>\\r\\n          <th class=\\\"text-center text-primary\\\">Empresa</th>\\r\\n          <th class=\\\"text-center text-primary\\\">Motivo</th>\\r\\n          <th class=\\\"text-center text-primary\\\">Estado</th>\\r\\n          <th class=\\\"text-center text-primary\\\">Visto</th>\\r\\n          <th class=\\\"text-center text-primary\\\">Acción</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody class=\\\"text-center\\\">\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router'\r\n\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { TicketsAdminService } from '../../service/tickets-admin.service'\r\n\r\nimport { Tickets } from '../../class/shared/tickets'\r\n\r\ndeclare var $ : any\r\n\r\n@Component({\r\n  selector: 'app-tickets',\r\n  templateUrl: './tickets.component.html',\r\n  styleUrls: ['./tickets.component.css']\r\n})\r\nexport class TicketsComponent implements OnInit {\r\n\r\n  registers: Tickets[] = []\r\n\r\n  constructor(private tsvc: TicketsAdminService, private toastr: ToastrService, private router: Router){ }\r\n\r\n  ngOnInit() {\r\n    this.init()\r\n  }\r\n\r\n  init(){\r\n    this.tsvc.get().subscribe(res => {\r\n      this.registers = res\r\n      console.log(res)\r\n      if($.fn.DataTable.isDataTable('.data-table')){\r\n        $('.data-table').DataTable().destroy()\r\n      }\r\n\r\n      $('.data-table').dataTable({\r\n        data: this.registers,\r\n        columns: [\r\n          {\"data\": \"numero_ticket\"},\r\n          {\"data\": \"userTicket\",\"render\": function(empresa){\r\n            return empresa.nombre\r\n          }},\r\n          {\"data\": \"motivo\", \"render\": function(motivo){\r\n            return motivo.name\r\n          }},\r\n          {\"data\": \"motivoEstatus\", \"render\": function(estado){\r\n             return '<span class=\"badge alert alert-warning\">'+estado.name+'</span>'\r\n          }},\r\n          {\"data\": \"visto\", \"render\": function(visto){\r\n            return visto ? \"Revisado\" : \"Nuevo\"\r\n          }},\r\n          {\"data\": \"id\", \"render\": function(id){\r\n            var html = `<button class=\"btn btn-link btn_editar\" title=\"Administrar Ticket\" data-toggle=\"tooltip\">\r\n                      <img src=\"../../../../assets/images/editar.png\" width=\"30px\"\r\n                      </button>\r\n                      <button class=\"btn btn-link btn_destroy\" title=\"Eliminar\" data-toggle=\"tooltip\">\r\n                      <img src=\"../../../../assets/images/eliminar.png\" width=\"30px\"\r\n                      </button>`\r\n\r\n            return html\r\n          }}\r\n        ],\r\n        rowCallback: (row: Node, data: any[] | Object, index: number) => {\r\n          const self = this;\r\n          // Unbind first in order to avoid any duplicate handler\r\n          // (see https://github.com/l-lin/angular-datatables/issues/87)\r\n          $('td', row).unbind('click');\r\n          $('td > .btn_editar', row).bind('click', () => {\r\n            self.adminTicket(data);\r\n          });\r\n\r\n          $('td > .btn_destroy', row).bind('click', () => {\r\n            self.deleteTicket(data);\r\n          });\r\n\r\n          return row;\r\n        }\r\n      })\r\n    },err => {\r\n      this.toastr.error(err.error.message,'Error!')\r\n    })\r\n  }\r\n\r\n  truncateTickets(){\r\n    this.tsvc.truncateTickets().subscribe(res => {\r\n      this.toastr.success('Procesado completado','Éxito')\r\n    },err => {\r\n      this.toastr.error(err.error.message,'Erro!')\r\n    })\r\n  }\r\n\r\n  adminTicket(data){\r\n    this.router.navigate(['/admin/tickets/manage/',data.id])\r\n  }\r\n\r\n  deleteTicket(data){\r\n    if(confirm('Esta seguro de querer eliminar este registro?')){\r\n      this.tsvc.deleteTicket(data.id).subscribe(res => {\r\n        this.toastr.success('Procesado completado','Éxito')\r\n        this.init()\r\n      },err => {\r\n        this.toastr.error(err.error.message,'Erro!')\r\n      })\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router'\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\r\n\r\nimport { TicketsComponent } from './tickets.component';\r\n\r\nimport { TicketRoutes } from './tickets.routes';\r\nimport { ManageComponent } from './manage/manage.component'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(TicketRoutes),\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [TicketsComponent, ManageComponent]\r\n})\r\nexport class TicketsModule { }\r\n","import { Routes } from '@angular/router'\r\n\r\nimport { TicketsComponent } from './tickets.component'\r\nimport { ManageComponent } from './manage/manage.component'\r\n\r\nexport const TicketRoutes : Routes = [\r\n    {\r\n      path: '',\r\n      component: TicketsComponent\r\n    },\r\n    {\r\n      path: 'manage/:id',\r\n      component: ManageComponent\r\n    }\r\n    /*{\r\n      path: 'form',\r\n      component: FormComponent\r\n    },\r\n    {\r\n      path: 'form/:id',\r\n      component: FormComponent\r\n    }*/\r\n]"],"sourceRoot":""}